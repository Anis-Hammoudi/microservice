server {
    listen 80;
    server_name localhost;

    # This block serves your static Angular files
    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
        # This is important for Angular routing to work correctly
        try_files $uri $uri/ /index.html;
    }

    location /api/ {
         # The line below removes the /api prefix before forwarding to the backend
         rewrite ^/api/(.*)$ /$1 break;
         proxy_pass http://order-service:8081;
      }
    location /api/menu/ {
        proxy_pass http://order-service:8081/menu/;
    }
    # Add more blocks here if you need to proxy other services
}
